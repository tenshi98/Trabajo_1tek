!function(t,e){var a=a||{};"function"==typeof a&&a.amd?a([],e):"object"==typeof exports&&"object"==typeof module?module.exports=e():"object"==typeof exports?exports.FormValidator=e():t.FormValidator=e()}(this,(function(){var t=new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function e(t,e){this.data={},this.DOM={scope:e},this.settings=this.extend({},this.defaults,t||{}),this.texts=this.extend({},this.texts,this.settings.texts||{}),this.settings.events&&this.events()}return e.prototype={texts:{invalid:"Dato no es el esperado",short:"Dato demasiado corto",long:"Dato demasiado largo",checked:"Debe estar marcado",empty:"Ingrese dato obligatorio",select:"Seleccione una opcion",number_min:"Muy bajo",number_max:"Muy alto",url:"URL invalida",number:"no es un numero",email:"Direccion email no valida",email_repeat:"Direccion email no coincide",date:"Fecha invalida",time:"Hora invalida",password_repeat:"passwords do not match",no_match:"no match",complete:"input is not complete"},defaults:{alerts:!0,events:!1,regex:{url:t,phone:/^\+?([0-9]|[-|' '])+$/i,numeric:/^[0-9]+$/i,alphanumeric:/^[a-zA-Z0-9]+$/i,time:/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/,email:{illegalChars:/[\(\)\<\>\,\;\:\\\/\"\[\]]/,filter:/^.+@.+\..{2,24}$/}},classes:{item:"field",alert:"alert",bad:"bad"}},tests:{sameAsPlaceholder:function(t,e){return!t.getAttribute("placeholder")||(e.value!=t.getAttribute("placeholder")||this.texts.empty)},hasValue:function(t){return!!t||this.texts.empty},linked:function(t,e,a){return e==t||(this.texts[a+"_repeat"]||this.texts.no_match)},email:function(t,e){var a=e.value.trim().split(" ");if(!t.multiple&&a.length>1)return this.texts.email;for(var i=0;i<a.length;i++)if(!this.settings.regex.email.filter.test(a[i])||a[i].match(this.settings.regex.email.illegalChars))return this.texts.email;return!0},text:function(t,e){var a=this;if(e.validateWords){var i=e.value.split(" ");return!(i.length<e.validateWords||!function(t){for(var e=i.length;e--;)if(i[e].length<t)return a.texts.short;return!0}(2))||this.texts.complete}if(e.lengthRange&&e.value.length<e.lengthRange[0])return this.texts.short;if(e.lengthRange&&e.lengthRange[1]&&e.value.length>e.lengthRange[1])return this.texts.long;if(e.lengthLimit&&e.lengthLimit.length){for(;e.lengthLimit.length;)if(e.lengthLimit.pop()==e.value.length)return!0;return this.texts.complete}if(e.pattern){var n=this.settings.regex[e.pattern];n||(n=e.pattern);try{var s=new RegExp(n).test(e.value);if(e.value&&!s)return e.invaildtext||this.texts[t.name]||this.texts.invalid}catch(e){return console.warn(e,t,"regex is invalid"),this.texts.invalid}}return!0},number:function(t,e){var a=e.value;return isNaN(parseFloat(a))&&!isFinite(a)?this.texts.number:e.lengthRange&&a.length<e.lengthRange[0]?this.texts.short:e.lengthRange&&e.lengthRange[1]&&a.length>e.lengthRange[1]?this.texts.long:e.minmax[0]&&(0|a)<e.minmax[0]?this.texts.number_min:!(e.minmax[1]&&(0|a)>e.minmax[1])||this.texts.number_max},date:function(t,e){var a,i,n=e.value.split(/[-./]/g);if(t.valueAsNumber)return!0;for(i=n.length;i--;)if(isNaN(parseFloat(e.value))&&!isFinite(e.value))return this.texts.date;try{return(a=new Date(n[2],n[1]-1,n[0])).getMonth()+1==n[1]&&a.getDate()==n[0]||this.texts.date}catch(t){return this.texts.date}},time:function(t,e){return!!this.settings.regex.time.test(e.value)||this.texts.time},url:function(t,e){return!!this.settings.regex.url.test(e.value)||this.texts.url},hidden:function(t,e){return e.lengthRange&&e.value.length<e.lengthRange[0]?this.texts.short:!(e.pattern&&"alphanumeric"==e.pattern&&!this.settings.regex.alphanumeric.test(e.value))||this.texts.invalid},select:function(t,e){return!!e.value||this.texts.select},checkbox:function(t,e){return!!t.checked||this.texts.checked}},events:function(t,e){var a=this;function i(t){e.addEventListener(t,(function(t){setTimeout(a.checkField.bind(a),0,t.target)}),!0)}t=t||this.settings.events,(e=e||this.DOM.scope)&&t&&(t instanceof Array?t.forEach(i):"string"==typeof t&&i(t))},mark:function(t,e){if(!e||!t)return!1;var a,i=this,n=this.closest(t,"."+this.settings.classes.item)||t,s=n.querySelector("."+this.settings.classes.alert);return this.settings.alerts&&(s?s.innerHTML=e:(a='<div class="'+this.settings.classes.alert+'">'+e+"</div>",n.insertAdjacentHTML("beforeend",a))),n.classList.remove(this.settings.classes.bad),setTimeout((function(){n.classList.add(i.settings.classes.bad)})),a},unmark:function(t){var e;if(!t)return console.warn('no "field" argument, null or DOM object not found'),!1;var a=this.closest(t,"."+this.settings.classes.item);a&&(e=a.querySelector("."+this.settings.classes.alert),a.classList.remove(this.settings.classes.bad)),e&&e.parentNode.removeChild(e)},reset:function(t){var e=this;t=t||this.DOM.scope,this.filterFormElements(t.elements).forEach((function(t){e.unmark(t)}))},testByType:function(t,e){var a=(e=this.extend({},e)).type;return"tel"==a&&(e.pattern=e.pattern||"phone"),a&&"password"!=a&&"tel"!=a&&"search"!=a&&"file"!=a||(a="text"),!this.tests[a]||this.tests[a].call(this,t,e)},prepareFieldData:function(t){var e=t.nodeName.toLowerCase(),a=Math.random().toString(36).substr(2,9);return t._validatorId=a,this.data[a]={},this.data[a].value=t.value.replace(/^\s+|\s+$/g,""),this.data[a].valid=!0,this.data[a].type=t.type,this.data[a].pattern=t.pattern,"select"===e?this.data[a].type="select":"textarea"===e&&(this.data[a].type="text"),this.data[a].validateWords=t.getAttribute("data-validate-words")||0,this.data[a].lengthRange=t.getAttribute("data-validate-length-range")?(t.getAttribute("data-validate-length-range")+"").split(","):[1],this.data[a].lengthLimit=!!t.getAttribute("data-validate-length")&&(t.getAttribute("data-validate-length")+"").split(","),this.data[a].minmax=!!t.getAttribute("data-validate-minmax")&&(t.getAttribute("data-validate-minmax")+"").split(","),this.data[a].validateLinked=t.getAttribute("data-validate-linked"),this.data[a].invaildtext=t.getAttribute("data-validate-text-invalid"),this.data[a]},closest:function(t,e){var a;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(t){return"function"==typeof document.body[t]&&(a=t,!0)}));t;){if(t&&t[a](e))return t;t=t.parentElement}return null},extend:function(t,e){if(!t)throw new TypeError("Cannot convert undefined or null to object");var a,i,n,s=Object(t);for(n=1;n<arguments.length;n++)if(null!=(i=arguments[n]))for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a]);return s},checkField:function(t,e){if("hidden"!=t.type&&!t.clientWidth)return{valid:!0,error:""};if(!(t=this.filterFormElements([t])[0]))return{valid:!0,error:""};var a,i,n=-1!=t.className.indexOf("optional"),s=this.prepareFieldData(t),r=this.closest(t,"form");return i=this.tests.hasValue.call(this,s.value),s.valid=n||!0===i,n&&!s.value?{valid:!0,error:""}:(!0!==i&&(s.valid=!1),s.valid&&(i=this.testByType(t,s),s.valid=!0===i),s.valid&&s.validateLinked&&(a=0==s.validateLinked.indexOf("#")?document.body.querySelector(s.validateLinked):r.length?r.querySelector("[name="+s.validateLinked+"]"):document.body.querySelector("[name="+s.validateLinked+"]"),i=this.tests.linked.call(this,t.value,a.value,s.type),s.valid=!0===i),e||this[s.valid?"unmark":"mark"](t,i),{valid:s.valid,error:!0===s.valid?"":i})},filterFormElements:function(t){var e,a=[];for(e=t.length;e--;){var i=t[e].nodeName.match(/input|textarea|select/gi),n=t[e].hasAttribute("required"),s=t[e].hasAttribute("disabled"),r=-1!=t[e].className.indexOf("optional");i&&(n||r)&&!s&&a.push(t[e])}return a},checkAll:function(t){if(!t)return console.warn("element not found"),!1;var e=this,a={valid:!0,fields:[]};return this.filterFormElements(t.elements).forEach((function(t,i){var n=e.checkField(t);a.valid=!!(a.valid*n.valid),a.fields.push({field:t,error:n.error,valid:!!n.valid})})),a}},e}));